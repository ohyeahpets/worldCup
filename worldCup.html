<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>媒介圈-世界杯活动页面</title>
    <link rel="stylesheet" href="css/swiper-4.2.0.min.css">
    <link rel="stylesheet" href="css/p_reset.css">
    <link rel="stylesheet" href="css/worldCup.css">
    <script src="js/jquery-1.10.2.min.js"></script>
    <script src="js/swiper-4.2.0.min.js"></script>
</head>
<body>
<div class="world-top"></div>
<div class="world-main">
    <div class="common_w world-main-con">
        <div class="jiuqiu">
            <div style="position: relative;height: 100%">
                <div class="jinqiu_shoot" style="display: block;">
                    <img src="images/shootStart.png" alt="射门">
                </div>
                <!--<div class="jinqiu_shoot">-->
                <!--<img src="images/shootJin.gif" alt="射门">-->
                <!--</div>-->
                <!--<div class="jinqiu_shoot">-->
                <!--<img src="images/shootMeiJin.gif" alt="射门">-->
                <!--</div>-->
                <a href="javascript:void(0);" class="jinqiu_btn">
                    <p>今日踢球剩余次数：<span id="tiqiu_num">3</span>次</p>
                </a>
            </div>
        </div>
        <div class="clearfix">
            <div class="fl zjWrapper">
                <div class="zj_num clearfix">
                    <div class="num_item">
                        <img src="images/wc-icon1.png" alt="">
                        已下单数：15次
                    </div>
                    <div class="num_item">
                        <img src="images/wc-icon2.png" alt="">
                        已竞猜数：5次
                    </div>
                </div>
            </div>
            <div class="fl jpWrapper">
                <div class="zj-warning clearfix">
                    <div class="fl zw-item" id="prize">
                        <p>我的奖品</p>
                    </div>
                    <div class="fl zw-item" id="rule">
                        <p>活动规则</p>
                    </div>
                </div>
                <p class="jp_num">今日抽奖次数：3次</p>
                <div class="zjUserWrapper">
                    <div class="zuw_top"></div>
                    <div class="zuw_detail">
                        <div class="titleWrapper">
                            <div class="title">幸运中奖用户</div>
                        </div>
                        <div class="detailWrapper">
                            <ul class="clearfix">
                                <li class="fl dw-item dw-item-first">用户名</li>
                                <li class="fl dw-item dw-item-first">联系方式</li>
                                <li class="fl dw-item dw-item-first">奖品名称</li>
                            </ul>
                            <div class="swiper-container">
                                <div class="swiper-wrapper">
                                    <div class="swiper-slide">
                                        <ul class="clearfix">
                                            <li class="fl dw-item">张1</li>
                                            <li class="fl dw-item">139******321</li>
                                            <li class="fl dw-item">10元代金券</li>
                                        </ul>
                                    </div>
                                    <div class="swiper-slide">
                                        <ul class="clearfix">
                                            <li class="fl dw-item">张2</li>
                                            <li class="fl dw-item">139******321</li>
                                            <li class="fl dw-item">10元代金券</li>
                                        </ul>
                                    </div>
                                    <div class="swiper-slide">
                                        <ul class="clearfix">
                                            <li class="fl dw-item">张3</li>
                                            <li class="fl dw-item">139******321</li>
                                            <li class="fl dw-item">10元代金券</li>
                                        </ul>
                                    </div>
                                    <div class="swiper-slide">
                                        <ul class="clearfix">
                                            <li class="fl dw-item">张4</li>
                                            <li class="fl dw-item">139******321</li>
                                            <li class="fl dw-item">10元代金券</li>
                                        </ul>
                                    </div>
                                    <div class="swiper-slide">
                                        <ul class="clearfix">
                                            <li class="fl dw-item">张5</li>
                                            <li class="fl dw-item">139******321</li>
                                            <li class="fl dw-item">10元代金券</li>
                                        </ul>
                                    </div>
                                    <div class="swiper-slide">
                                        <ul class="clearfix">
                                            <li class="fl dw-item">张6</li>
                                            <li class="fl dw-item">139******321</li>
                                            <li class="fl dw-item">10元代金券</li>
                                        </ul>
                                    </div>
                                    <div class="swiper-slide">
                                        <ul class="clearfix">
                                            <li class="fl dw-item">张7</li>
                                            <li class="fl dw-item">139******321</li>
                                            <li class="fl dw-item">10元代金券</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="world-guess">
    <div class="common_w wg-content">
        <div class="wg-title text-center">猜对有奖，瓜分万元！</div>
        <p class="wg-text text-center">(连续竞猜正确3次，即可参加万元瓜分！没人仅可瓜分一次)</p>
        <div class="wg-time">
            <img src="images/time-daojishi.png" alt="沙漏" style="margin-top: -10px;">
            <span style="position: relative;top: -4px;">瓜分倒计时：</span>
            <p class="wg-time-daojishi" id="timer"><span>13</span>天<span>03</span>时<span>30</span>分<span>10</span>秒</p>
        </div>
    </div>
</div>
<div class="rule_layer">
    <div class="rule_wrapper">
        <div class="title">
            活动规则
            <span class="close_rule" id="close_rule">×</span>
        </div>
        <div class="group clearfix">
            <div class="group-title fl">
                活动时间：
            </div>
            <div class="group-text fl">
                <p class="gt_xuanxiang">2018年7月1日-2018年7月15日</p>
            </div>
        </div>
        <div class="group clearfix">
            <div class="group-title fl">
                踢球规则：
            </div>
            <div class="group-text fl">
                <p class="gt_xuanxiang">1. 活动期间，点击踢球，进球成功的用户，可以参与抽奖。</p>
                <p class="gt_xuanxiang">2. 踢球机会可通过4种途径获得：</p>
                <p class="gt_desc">• 注册或登陆仅可赠送1次；</p>
                <p class="gt_desc">• 每发布稿件(已付款)10次，可获赠1次，该渠道每日最多可获得5次。</p>
                <p class="gt_desc">• 参与竞猜活动，则可获赠1次踢球机会；</p>
                <p class="gt_desc">• 成功将活动页面分享至朋友圈，并保持不删除（加媒介圈-安琪微信：rws099 为好友验证）可获赠3次机会，该渠道在活动期间最多可获得3次机会；</p>
            </div>
        </div>
        <div class="group clearfix">
            <div class="group-title fl">
                竞猜规则：
            </div>
            <div class="group-text fl">
                <p class="gt_xuanxiang">1. 竞猜时间：07.01开始每日06：00-18：00</p>
                <p class="gt_desc">（参与竞猜后，次日上午10：00公布竞猜结果）</p>
                <p class="gt_xuanxiang">2. 用户每日可获得1次竞猜活动机会</p>
                <p class="gt_xuanxiang">3.活动期间，连续竞猜正确3次，即可参与10000万元瓜分，每人仅可瓜分1次。</p>
                <p class="gt_desc">（10000元现金将于7月16日09:00开始瓜分，将以现金红包的方式发送，请及时加”媒介圈——安琪（微信号：rws099）“为好友。</p>
                <p class="gt_desc">如遇“10000元除不尽”的情况，则按照四舍五入法精确到角。）</p>
            </div>
        </div>
        <div class="group clearfix">
            <div class="group-title fl">
                奖品说明：
            </div>
            <div class="group-text fl">
                <p class="gt_xuanxiang">1. 获赠的代金券，有效期截止至7月16日。过期不用则自动作废。 </p>
                <p class="gt_xuanxiang">2. 所有代金券奖品将由系统即时自动发放，现金红包等将由工作人员联系登记之后，统一在活动结束后3个工作日内发放。</p>
                <p class="gt_xuanxiang">3. 创意内容撰写奖励将由工作人员联系后，根据相应的需求进行内容创意策划与撰写。</p>
            </div>
        </div>
    </div>
</div>
<div class="prize_layer">
    <div class="prize_wrapper">
        <div class="title">
            我的奖品
            <span class="close_prize" id="close_prize">×</span>
        </div>
        <ul class="clearfix">
            <li class="fl prize_item prize_title">奖品名称</li>
            <li class="fl prize_item prize_title">获得时间</li>
            <li class="fl prize_item prize_title">状态</li>
        </ul>
        <ul class="clearfix">
            <li class="fl prize_item">8.8代金券</li>
            <li class="fl prize_item">2018.06.12</li>
            <li class="fl prize_item">已发放</li>
        </ul>
        <ul class="clearfix">
            <li class="fl prize_item">8.8代金券</li>
            <li class="fl prize_item">2018.06.12</li>
            <li class="fl prize_item">已发放</li>
        </ul>
        <ul class="clearfix">
            <li class="fl prize_item">8.8代金券</li>
            <li class="fl prize_item">2018.06.12</li>
            <li class="fl prize_item">已发放</li>
        </ul>
        <ul class="clearfix">
            <li class="fl prize_item">8.8代金券</li>
            <li class="fl prize_item">2018.06.12</li>
            <li class="fl prize_item">已发放</li>
        </ul>
        <ul class="clearfix">
            <li class="fl prize_item">8.8代金券</li>
            <li class="fl prize_item">2018.06.12</li>
            <li class="fl prize_item">已发放</li>
        </ul>
        <ul class="clearfix">
            <li class="fl prize_item">8.8代金券</li>
            <li class="fl prize_item">2018.06.12</li>
            <li class="fl prize_item">已发放</li>
        </ul>
    </div>
</div>
<div class="wrapper_layer" id="wrapper_layer">
    <div class="wrapper">
        <span class="close" id="close">×</span>
        <div class="text-center  imgWrapper" style="margin-top: 10px;">
            <img src="images/p_laugh.png" alt="">
        </div>
        <p class="text-center tips">恭喜你，球进了！</p>
        <div class="user-operarion">
            <a href="#" class="uo_btn">开始抽奖</a>
            <a href="#" class="uo_btn">去下单</a>
        </div>
    </div>
</div>
<script>
    var mySwiper = new Swiper('.swiper-container', {
        autoplay: true,//可选选项，自动滑动
        direction: 'vertical',
        height: 266,
        loop: true,
        slidesPerView: 7
    })
    // 剩余多少时间
    leftTimer(2018,7,7,19,57,10);
    $('#rule').click(function () {
        var rule_layer = $('.rule_layer');
        rule_layer.show();
        $('#close_rule').click(function () {
            rule_layer.hide()
        })
    })

    $('#prize').click(function () {
        var prize_layer = $('.prize_layer');
        prize_layer.show();
        $('#close_prize').click(function () {
            prize_layer.hide()
        })
    })

    $('#close').click(function () {
        $(this).closest('#wrapper_layer').hide()
    })

    var goal_desc = [{text: '恭喜你，球进了！', imgUrl: 'images/p_laugh.png'}, {
        text: '很遗憾，没有进球',
        imgUrl: 'images/p_cry.png'
    }];
    // 点击踢球
    $('.jinqiu_btn').click(function () {
        // 获取踢球剩余次数
        var tiqiu_num = $('#tiqiu_num').text();
        if (tiqiu_num == 0) {
            // 弹出提示显示
            $('#tiqiu_num').text(tiqiu_num);
            return false;
        }
        // 两种情况,进球和没进球的概率
        var a = ['goal', 'no_goal'],
            b = [0.3, 0.7],
            is_goal = random(a, b);
        imgReload();
        if (is_goal == 'goal') {
            $('.jinqiu_shoot').find('img').attr('src', 'images/shootJin.gif')
            // 弹出进球提示框
            setTimeout(function () {
                $('#wrapper_layer').show().find('.imgWrapper img').attr('src', goal_desc[0].imgUrl)
                    .end().find('.tips').text(goal_desc[0].text)
            }, 1700)
        } else {
            $('.jinqiu_shoot').find('img').attr('src', 'images/shootMeiJin.gif')
            // 弹出没进球提示框
            setTimeout(function () {
                $('#wrapper_layer').show().find('.imgWrapper img').attr('src', goal_desc[1].imgUrl)
                    .end().find('.tips').text(goal_desc[1].text)
            }, 1700)
        }
        tiqiu_num--;
        $('#tiqiu_num').text(tiqiu_num);
    })

    function random(arr1, arr2) {
        var sum = 0,
            factor = 0,
            random = Math.random();

        for (var i = arr2.length - 1; i >= 0; i--) {
            sum += arr2[i]; // 统计概率总和
        }
        random *= sum; // 生成概率随机数
        for (var i = arr2.length - 1; i >= 0; i--) {
            factor += arr2[i];
            if (random <= factor)
                return arr1[i];
        }
        return null;
    }

    function imgReload() {
        var imgs = document.getElementsByTagName('img');
        for (var i = 0; i < imgs.length; i++)
            imgs[i].src = imgs[i].src;
    }

    function leftTimer(year, month, day, hour, minute, second) {
        var leftTime = (new Date(year, month - 1, day, hour, minute, second)) - (new Date()); //计算剩余的毫秒数
        var days = parseInt(leftTime / 1000 / 60 / 60 / 24, 10); //计算剩余的天数
        var hours = parseInt(leftTime / 1000 / 60 / 60 % 24, 10); //计算剩余的小时
        var minutes = parseInt(leftTime / 1000 / 60 % 60, 10);//计算剩余的分钟
        var seconds = parseInt(leftTime / 1000 % 60, 10);//计算剩余的秒数
        days = checkTime(days);
        hours = checkTime(hours);
        minutes = checkTime(minutes);
        seconds = checkTime(seconds);
        setInterval("leftTimer(2018,7,7,19,57,10)", 1000);
        document.getElementById("timer").innerHTML = '<span>' + days + '</span>' + "天" + '<span>' + hours + '</span>' + "时" + '<span>' + minutes + '</span>' + "分" + '<span>' + seconds + '</span>' + "秒";
    }

    function checkTime(i) { //将0-9的数字前面加上0，例1变为01
        if (i < 10) {
            i = "0" + i;
        }
        return i;
    }
</script>
</body>
</html>